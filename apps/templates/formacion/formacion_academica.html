{% extends 'base.html' %}
{% load static %}
{% load form_tags %}
{% block css %}
    <link rel="stylesheet" href="{% static 'vendor/jquery/css/jquery-ui.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/dropzone/dropzone.min.css' %}">
{% endblock %}
{% block container %}
    <div class="col-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h5>Formación Académica
                    <label class="pull-right">
                        User: <label class="text-success">{{ username }} {{ tipo_persona_desc }}</label>
                    </label>
                </h5>
            </div>
            <div class="panel-body">
                <div class="card">
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item active">
                                <a class="nav-link active" id="universitaria-tab" data-toggle="tab"
                                   href="#universitaria" role="tab"
                                   aria-controls="universitaria"
                                   aria-selected="true" aria-expanded="true">Universitaria</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tecnico-tab" data-toggle="tab" href="#tecnico" role="tab"
                                   aria-controls="tecnico"
                                   aria-selected="false">Técnico superior</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="complementaria-tab" data-toggle="tab" href="#complementaria"
                                   role="tab" aria-controls="complementaria"
                                   aria-selected="false">Complementaria</a>
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade active in" id="universitaria" role="tabpanel"
                                 aria-labelledby="universitaria-tab">
                                &nbsp;
                                <div align="right">
                                    <a class="btn btn-primary m-b-sm" data-added="0" id="agrega-universitaria">
                                        <i class="fa fa-plus" aria-hidden="true"></i> Agregar formación universitaria
                                    </a>
                                    <br>&nbsp;
                                </div>
                                <div class="table-responsive">
                                    <table id="tabla-universitaria"
                                           class="table table-striped table-bordered display nowrap"
                                           style="max-width:1000px; width:100%!important;">
                                        <thead>
                                        <tr>
                                            <th>Centro de estudios</th>
                                            <th>Grado obtenido</th>
                                            <th>Título</th>
                                            <th>Fecha inicio</th>
                                            <th>Fecha fin</th>
                                            <th>Adjuntos</th>
                                            <th>Editar</th>
                                            <th>Eliminar</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tecnico" role="tabpanel" aria-labelledby="tecnico-tab">
                                &nbsp;
                                <div align="right">
                                    <a class="btn btn-primary m-b-sm" data-added="0" id="agrega-tecnico">
                                        <i class="fa fa-plus" aria-hidden="true"></i> Agregar formación técnico superior
                                    </a>
                                    <br>&nbsp;
                                </div>
                                <div class="table-responsive">
                                    <table id="tabla-tecnico" class="table table-striped table-bordered display nowrap"
                                           style="max-width:1000px; width:100%!important;">
                                        <thead>
                                        <tr>
                                            <th>Centro de estudios</th>
                                            <th>Carrera</th>
                                            <th>Fecha Inicio</th>
                                            <th>Fecha Fin</th>
                                            <th>Adjunto</th>
                                            <th>Editar</th>
                                            <th>Eliminar</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="complementaria" role="tabpanel"
                                 aria-labelledby="complementaria-tab">
                                &nbsp;
                                <div align="right">
                                    <a class="btn btn-primary m-b-sm" data-added="0" id="agrega-complementaria">
                                        <i class="fa fa-plus" aria-hidden="true"></i> Agregar formación complementaria
                                    </a>
                                    <br>&nbsp;
                                </div>
                                <div class="table-responsive">
                                    <table id="tabla-complementaria"
                                           class="table table-striped table-bordered display nowrap"
                                           style="max-width:1000px; width:100%!important;">
                                        <thead>
                                        <tr>
                                            <th>Capacitacion</th>
                                            <th>Centro de estudios</th>
                                            <th>País</th>
                                            <th>Frecuencia</th>
                                            <th>Cantidad</th>
                                            <th>Fecha inicio</th>
                                            <th>Fecha fin</th>
                                            <th>Adjuntos</th>
                                            <th>Editar</th>
                                            <th>Eliminar</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" id="id_universitaria">
    <input type="hidden" id="id_tecnico">
    <input type="hidden" id="id_complementaria">
    {% include 'formacion/partials/_modal_universitaria.html' %}
    {% include 'formacion/partials/_modal_tecnico.html' %}
    {% include 'formacion/partials/_modal_complementaria.html' %}
    {% include 'formacion/partials/_modal_adjuntar_archivos_formacion.html' %}
{% endblock %}
{% block javascript %}
    <script>
        var urlListaUniversitaria = "{% url 'formacion:lista_universitaria' pk %}";
        var urlListaTecnico = "{% url 'formacion:lista_tecnico' pk %}";
        var urlListaComplementaria = "{% url 'formacion:lista_complementaria' pk %}";
        var urlGuardarUniversitaria = "{% url 'formacion:guardar_universitaria' pk %}";
        var urlGuardarTecnico = "{% url 'formacion:guardar_tecnico' pk %}";
        var urlGuardarComplementaria = "{% url 'formacion:guardar_complementaria' pk %}";
        var urlConsultaUniversitaria = "{% url 'formacion:consulta_universitaria' 'id' %}";
        var urlConsultaTecnico = "{% url 'formacion:consulta_tecnico' 'id' %}";
        var urlConsultaComplementaria = "{% url 'formacion:consulta_complementaria' 'id' %}";
        var urlSubirArchivos = "{% url 'formacion:subir_archivos' 'id' 'tipo' %}";
        var urlListaArchivos = "{% url 'formacion:listar_archivos' 'id' 'tipo' %}";
        var urlEliminarArchivo = "{% url 'formacion:eliminar_archivo' 'id' 'tipo' %}";
        var urlEliminarComplementaria = "{% url 'formacion:eliminar_complementaria' 'id' %}";
        var urlEliminarTecnico = "{% url 'formacion:eliminar_tecnico' 'id' %}";
        var urlEliminarUniversitaria = "{% url 'formacion:eliminar_universitaria' 'id' %}";
        var personalId = "{{pk}}";
        var urlListarPersona = "{% url 'persona:listar_persona' %}";
        datatablesES = "{% static 'vendor/datatables/language/spanish.json' %}";
        var urlProyectoDescargaPdf = "";
        var eliminarPersona = "{% url 'persona:eliminar_persona' 'id' %}";
        var tipPersona = "{{tip_persona}}";
        var urlDepartamento = "{% url 'persona:consulta_departamento' %}";
        var urls_ubigeo = {
            "provincias": "{% url 'persona:provincias' %}",
            "distritos": "{% url 'persona:distritos' %}",
        };
    </script>
    <script src="{% static 'vendor/dropzone/dropzone.min.js' %}"></script>
    <script src="{% static 'js/formacion/formacion.js' %}"></script>
    <script src="{% static 'js/formacion/modal-universitaria.js' %}"></script>
    <script src="{% static 'js/formacion/modal-tecnico.js' %}"></script>
    <script src="{% static 'js/formacion/modal-complementaria.js' %}"></script>
    <script src="{% static 'js/formacion/modal-adjuntar-archivos-formacion.js' %}"></script>
{% endblock %}
